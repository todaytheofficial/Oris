<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Oris</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" type="image/svg+xml" href="/images/logo.svg">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>

  <!-- ============ AUTH SCREEN ============ -->
  <div id="auth-screen" class="screen active">
    <div class="auth-bg">
      <div class="orb orb-1"></div>
      <div class="orb orb-2"></div>
      <div class="orb orb-3"></div>
    </div>

    <div class="auth-container">
      <div class="logo-section">
        <div class="logo-icon">
          <img src="/images/logo.svg" alt="Oris Logo" style="width: 64px; height: 64px;">
        </div>
        <h1 class="logo">Oris</h1>
      </div>

      <div class="auth-tabs">
        <button class="tab-btn active" data-tab="login">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
          <span>Войти</span>
        </button>
        <button class="tab-btn" data-tab="register">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
          <span>Регистрация</span>
        </button>
      </div>

      <form id="login-form" class="auth-form active">
        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 006 0v-1a10 10 0 10-3.92 7.94"/></svg>
          </div>
          <input type="text" id="login-input" placeholder="Email или имя пользователя" required autocomplete="username">
        </div>
        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
          </div>
          <input type="password" id="login-password" placeholder="Пароль" required autocomplete="current-password">
          <button type="button" class="toggle-password" tabindex="-1">
            <svg class="eye-open" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
            <svg class="eye-closed hidden" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
          </button>
        </div>
        <button type="submit" class="btn btn-primary btn-full">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
          <span>Войти</span>
          <div class="btn-loader hidden"></div>
        </button>
        <div id="login-error" class="error-msg"></div>
      </form>

      <form id="register-form" class="auth-form">
        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          </div>
          <input type="text" id="reg-username" placeholder="Имя пользователя" required pattern="^[a-zA-Z0-9_]{3,30}$" autocomplete="username">
        </div>
        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          </div>
          <input type="email" id="reg-email" placeholder="Email" required autocomplete="email">
        </div>
        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
          </div>
          <input type="password" id="reg-password" placeholder="Пароль (мин. 8 символов)" required minlength="8" autocomplete="new-password">
          <button type="button" class="toggle-password" tabindex="-1">
            <svg class="eye-open" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
            <svg class="eye-closed hidden" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
          </button>
        </div>
        <button type="submit" class="btn btn-primary btn-full">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
          <span>Создать аккаунт</span>
          <div class="btn-loader hidden"></div>
        </button>
        <div id="register-error" class="error-msg"></div>
      </form>
    </div>
  </div>

  <!-- ============ APP SCREEN ============ -->
  <div id="app-screen" class="screen">

    <aside class="sidebar">
      <div class="sidebar-logo">
        <img src="/images/logo.svg" alt="Oris Logo" width="36" height="36">
        <span class="sidebar-logo-text">Oris</span>
      </div>

      <nav class="sidebar-nav">
        <button class="sidebar-btn active" data-page="feed">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          <span>Лента</span>
        </button>
        <button class="sidebar-btn" data-page="search">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
          <span>Поиск</span>
        </button>
        <button class="sidebar-btn" data-page="notifications">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
          <span>Уведомления</span>
        </button>
        <button class="sidebar-btn" data-page="profile" id="nav-profile-btn">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          <span>Профиль</span>
        </button>
        <button class="sidebar-btn" data-page="admin" id="nav-admin-btn" style="display:none">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
          <span>Админка</span>
        </button>
      </nav>

      <div class="sidebar-bottom">
        <div class="sidebar-user">
          <img id="sidebar-avatar" src="" alt="" class="sidebar-user-avatar">
          <div class="sidebar-user-info">
            <span id="sidebar-username" class="sidebar-user-name"></span>
            <span id="sidebar-handle" class="sidebar-user-handle"></span>
          </div>
        </div>
        <button id="logout-btn" class="sidebar-btn logout-btn">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
          <span>Выйти</span>
        </button>
      </div>
    </aside>

    <main class="main-content">
      <header class="main-header">
        <button class="mobile-menu-btn" id="mobile-menu-btn">
          <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
        </button>
        <h2 id="main-title" class="main-title">Лента</h2>
      </header>

      <!-- Feed -->
      <div id="page-feed" class="page-section">
        <div class="create-post">
          <div class="create-post-top">
            <img id="create-post-avatar" src="" class="avatar avatar-md" alt="">
            <textarea id="post-text" placeholder="Что у вас нового?" maxlength="2000" rows="1"></textarea>
          </div>
          <div id="media-preview" class="media-preview hidden"></div>
          <div class="create-post-bottom">
            <div class="create-post-tools">
              <label class="tool-btn" title="Фото">
                <input type="file" id="post-image-input" accept="image/*" hidden>
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
              </label>
              <button class="tool-btn" id="voice-record-btn" title="Голосовое">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z"/><path d="M19 10v2a7 7 0 01-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
              </button>
              <button class="tool-btn" id="gif-btn" title="GIF">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="4" width="20" height="16" rx="2"/><text x="5" y="15" font-size="9" fill="currentColor" stroke="none" font-weight="800">GIF</text></svg>
              </button>
              <button class="tool-btn" id="emoji-btn" title="Эмодзи">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
              </button>
            </div>
            <button id="publish-btn" class="btn btn-primary btn-publish">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
              <span>Опубликовать</span>
            </button>
          </div>
        </div>
        <div id="feed" class="feed"></div>
        <div id="feed-loader" class="feed-loader hidden"><div class="spinner"></div></div>
        <div id="feed-end" class="feed-end hidden">
          <svg viewBox="0 0 24 24" width="32" height="32" fill="none" stroke="currentColor" stroke-width="1.5" style="opacity:0.3"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          <span>Вы всё просмотрели</span>
        </div>
      </div>

      <!-- Search -->
      <div id="page-search" class="page-section hidden">
        <div class="search-bar">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
          <input type="text" id="search-input" placeholder="Поиск людей..." autocomplete="off">
        </div>
        <div id="search-results" class="search-results">
          <div class="empty-state">
            <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5" style="opacity:0.2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            <p class="empty-state-text">Начните вводить для поиска</p>
          </div>
        </div>
      </div>

      <!-- Notifications -->
      <div id="page-notifications" class="page-section hidden">
        <div id="notifications-list" class="notifications-list">
          <div class="empty-state">
            <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5" style="opacity:0.2"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
            <p class="empty-state-text">Нет уведомлений</p>
          </div>
        </div>
      </div>

      <!-- Profile -->
      <div id="page-profile" class="page-section hidden">
        <div id="profile-page-content"></div>
      </div>

      <!-- Admin -->
      <div id="page-admin" class="page-section hidden">
        <div class="admin-panel">
          <div class="admin-search-bar">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            <input type="text" id="admin-search" placeholder="Поиск по имени или email..." autocomplete="off">
          </div>
          <div id="admin-users-list" class="admin-users-list"></div>
        </div>
      </div>

    </main>
  </div>

  <!-- Post Template -->
  <template id="post-template">
    <article class="post-card">
      <div class="post-header">
        <img class="avatar avatar-md post-avatar" src="" alt="">
        <div class="post-meta">
          <div class="post-author-row">
            <span class="post-author"></span>
            <svg class="badge-icon hidden" viewBox="0 0 24 24" width="16" height="16" fill="#ffffff" stroke="none"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </div>
          <div class="post-time-row">
            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            <time class="post-time"></time>
          </div>
        </div>
        <div class="post-actions-menu">
          <button class="post-menu-btn">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg>
          </button>
          <div class="post-dropdown hidden">
            <button class="post-delete-btn dropdown-item">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              <span>Удалить</span>
            </button>
          </div>
        </div>
      </div>
      <div class="post-body">
        <p class="post-text"></p>
        <div class="post-media"></div>
      </div>
      <div class="post-footer">
        <button class="like-btn" title="Нравится">
          <svg class="heart-icon" viewBox="0 0 24 24" width="20" height="20"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg>
          <span class="like-count">0</span>
        </button>
        <button class="comment-btn" title="Комментарии">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
          <span>0</span>
        </button>
        <button class="share-btn" title="Поделиться">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" y1="2" x2="12" y2="15"/></svg>
        </button>
        <button class="bookmark-btn" title="Сохранить">
          <svg class="bookmark-icon" viewBox="0 0 24 24" width="20" height="20"><path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/></svg>
        </button>
      </div>
    </article>
  </template>

  <!-- Profile Edit Modal -->
  <div id="profile-modal" class="modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
          Редактировать профиль
        </h3>
        <button class="modal-close">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <div class="profile-header">
        <div class="profile-avatar-wrapper">
          <img id="profile-avatar" src="" class="avatar avatar-xl" alt="">
          <label class="avatar-upload-btn">
            <input type="file" id="avatar-input" accept="image/*" hidden>
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z"/><circle cx="12" cy="13" r="4"/></svg>
          </label>
        </div>
        <h2 id="profile-displayname"></h2>
        <p id="profile-username" class="profile-handle"></p>
      </div>
      <form id="profile-form" class="profile-form">
        <div class="input-group">
          <label>Имя</label>
          <input type="text" id="edit-displayname" maxlength="50" placeholder="Как вас зовут?">
        </div>
        <div class="input-group">
          <label>О себе</label>
          <textarea id="edit-bio" maxlength="300" rows="3" placeholder="Расскажите о себе..."></textarea>
        </div>
        <button type="submit" class="btn btn-primary btn-full">
          <span>Сохранить</span>
        </button>
      </form>
    </div>
  </div>

  <div id="toast-container" class="toast-container"></div>

  <script src="/js/api.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/profile.js"></script>
  <script src="/js/admin.js"></script>
</body>
</html>